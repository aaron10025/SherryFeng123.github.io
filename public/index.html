<!DOCTYPE html>

<meta charset="utf-8">
<title>Survey</title>

<!-- Calls to /scripts are redirected to /node_modules/ on the server -->
<script src="/scripts/d3/d3.min.js"></script>
<script src="experimentr.js"></script>


<script language="javascript" type="text/javascript" src="multi_scatter.js"></script>

<link rel="stylesheet" type="text/css" href="css/main.css" />

<body></body>

<script>
/*
 * Compute a random integer i within a given range,
 * where lower <= i < upper
*/
function getRandomInteger(lower, upper) {
	console.assert(arguments.length === 2, "getRandomInteger() requires lower and upper parameters.");
	return Math.floor(Math.random() * (upper - lower)) + lower;
}

/*
 * Put all modules involved in experiment between initial consent module and
 * ending debrief module.
 */
var modules = [
  //'modules/splom_consent/',
//  'modules/splom_demographics/',
  //'modules/splot_comfort/',
//  'modules/splom_comfort/',
//  'modules/section1-intro/',
// 'modules/section2-template/', //network
  // 'modules/section1-template/quiz1_e_q1.html',
	// 'modules/section1-template/quiz1_e_q2.html',
	// 'modules/section1-template/quiz1_e_q3.html',
	// 'modules/section1-template/quiz1_e_q4.html',
	// 'modules/section1-template/quiz1_e_q5.html',
	// 'modules/section1-template/quiz1_m_q6.html',
	// 'modules/section1-template/quiz1_m_q7.html',
	// 'modules/section1-template/quiz1_m_q8.html',
	// 'modules/section1-template/quiz1_m_q9.html',
	// 'modules/section1-template/quiz1_m_q10.html',
	// 'modules/section1-template/quiz1_h_q11.html',
	// 'modules/section1-template/quiz1_h_q12.html',
	// 'modules/section1-template/quiz1_h_q13.html',
	// 'modules/section1-template/quiz1_h_q14.html',
	//  'modules/section1-template/quiz1_h_q15.html',
	//  'modules/section2-quiz2/quiz2_e_eq1.html',
	//  'modules/section2-quiz2/quiz2_e_eq2.html',
	//  'modules/section2-quiz2/quiz2_e_eq3.html',
	 'modules/section2-quiz2/quiz2_e_mq4.html',
	 'modules/section2-quiz2/quiz2_e_mq5.html',
	 'modules/section2-quiz2/quiz2_m_eq6.html',
	 'modules/section2-quiz2/quiz2_m_eq7.html',
	 'modules/section2-quiz2/quiz2_m_eq8.html',
	 'modules/section2-quiz2/quiz2_m_mq9.html',
	 'modules/section2-quiz2/quiz2_m_mq10.html',
	 'modules/section2-quiz2/quiz2_h_mq11.html',
	 'modules/section2-quiz2/quiz2_h_mq12.html',
	 'modules/section2-quiz2/quiz2_h_eq13.html',
	 'modules/section2-quiz2/quiz2_h_eq14.html',
	 'modules/section2-quiz2/quiz2_h_eq15.html',
  'modules/debrief/'
];

// Randomize order of test modules, keeping consent as first and debrief as last
var numModules = modules.length;
var randomIndex;
for (var i = 4; i < numModules - 2; i++) {
	randomIndex = getRandomInteger(i, numModules - 1);
	var temp = modules[i];
	modules[i] = modules[randomIndex];
	modules[randomIndex] = temp;
}

// Add randomized module order to session tracking;
var storeInfo = {};
storeInfo['module_order'] = modules.join().replace(/modules\//g,"");
experimentr.addData(storeInfo);

experimentr.sequence(modules).start();

</script>
